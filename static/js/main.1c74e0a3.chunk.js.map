{"version":3,"sources":["index.js"],"names":["tf","require","names","App","_React$Component","_getPrototypeOf2","_this","Object","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_len","arguments","length","args","Array","_key","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","apply","concat","state","model","preview","predictions","onDrop","accepted","rejected","links","setState","cropToCanvas","image","canvas","ctx","naturalWidth","naturalHeight","clearRect","width","height","fillStyle","fillRect","ratio","Math","min","newWidth","round","newHeight","drawImage","onImageChange","e","c","document","getElementById","getContext","target","_this$state$model$inp","inputs","shape","slice","_this$state$model$inp2","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","modelWidth","modelHeight","input","tidy","resizeBilinear","browser","fromPixels","div","expandDims","executeAsync","then","res","font","textBaseline","i","_res","boxes","scores","classes","valid_detections","boxes_data","dataSync","scores_data","classes_data","valid_detections_data","dispose","_boxes_data$slice","_boxes_data$slice2","x1","y1","x2","y2","klass","score","toFixed","strokeStyle","lineWidth","strokeRect","textWidth","measureText","textHeight","parseInt","a","b","_boxes_data$slice3","_boxes_data$slice4","fillText","buai","kasan","ritu","String","mytable","ii","rows","j","cells","mytr2","insertRow","myth2","createElement","myth2Txt","createTextNode","appendChild","mycell3","insertCell","mycell3Txt","mycell4","mycell4Txt","konoretuhajime","mycell5","mycell5Txt","previousRow","previousValue","innerText","moto","konoretumade","konoretumadewa","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","D_Users_fukuda_R5_appli_kome_R5_appli_detection_20240122_koshi_nobuild_nopush_noWebapp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","key","value","_this2","loadGraphModel","react__WEBPACK_IMPORTED_MODULE_6___default","className","react_magic_dropzone__WEBPACK_IMPORTED_MODULE_8___default","accept","multiple","alt","onLoad","src","id","React","Component","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.1c74e0a3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport MagicDropzone from \"react-magic-dropzone\";\r\n\r\nimport \"./styles.css\";\r\nconst tf = require('@tensorflow/tfjs');\r\n\r\nconst weights = 'web_model/model.json';\r\n\r\n\r\nconst names = ['o', 'g']\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    model: null,\r\n    preview: \"\",\r\n    predictions: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    tf.loadGraphModel(weights).then(model => {\r\n      this.setState({\r\n        model: model\r\n      });\r\n    });\r\n  }\r\n\r\n  onDrop = (accepted, rejected, links) => {\r\n    this.setState({ preview: accepted[0].preview || links[0] });\r\n  };\r\n\r\n  cropToCanvas = (image, canvas, ctx) => {\r\n    const naturalWidth = image.naturalWidth;\r\n    const naturalHeight = image.naturalHeight;\r\n\r\n    // canvas.width = image.width;\r\n    // canvas.height = image.height;\r\n\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    ctx.fillStyle = \"#000000\";\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    const ratio = Math.min(canvas.width / image.naturalWidth, canvas.height / image.naturalHeight);\r\n    const newWidth = Math.round(naturalWidth * ratio);\r\n    const newHeight = Math.round(naturalHeight * ratio);\r\n    ctx.drawImage(\r\n      image,\r\n      0,\r\n      0,\r\n      naturalWidth,\r\n      naturalHeight,\r\n      (canvas.width - newWidth) / 2,\r\n      (canvas.height - newHeight) / 2,\r\n      newWidth,\r\n      newHeight,\r\n    );\r\n\r\n  };\r\n\r\n  \r\n\r\n  \r\n\r\n\r\n\r\n  onImageChange = e => {\r\n    const c = document.getElementById(\"canvas\");\r\n    const ctx = c.getContext(\"2d\");\r\n    this.cropToCanvas(e.target, c, ctx);\r\n    // もと　let [modelWidth, modelHeight] = this.state.model.inputs[0].shape.slice(1, 3);\r\n\r\n    let [modelWidth, modelHeight] = this.state.model.inputs[0].shape.slice(1, 3);\r\n\r\n\r\n\r\n    const input = tf.tidy(() => {\r\n      return tf.image.resizeBilinear(tf.browser.fromPixels(c), [modelWidth, modelHeight])\r\n        .div(255.0).expandDims(0);\r\n    });\r\n    this.state.model.executeAsync(input).then(res => {\r\n      // Font options.\r\n      const font = \"9px sans-serif\";\r\n      ctx.font = font;\r\n      ctx.textBaseline = \"top\";\r\n\r\n      const [boxes, scores, classes, valid_detections] = res;\r\n      const boxes_data = boxes.dataSync();\r\n      const scores_data = scores.dataSync();\r\n      const classes_data = classes.dataSync();\r\n      const valid_detections_data = valid_detections.dataSync()[0];\r\n\r\n      tf.dispose(res)\r\n\r\n\r\n\r\n\r\n\r\n\r\n      var i;\r\n      for (i = 0; i < valid_detections_data; ++i){\r\n        let [x1, y1, x2, y2] = boxes_data.slice(i * 4, (i + 1) * 4);\r\n        x1 *= c.width;\r\n        x2 *= c.width;\r\n        y1 *= c.height;\r\n        y2 *= c.height;\r\n        const width = x2 - x1;\r\n        const height = y2 - y1;\r\n        const klass = names[classes_data[i]];\r\n        const score = scores_data[i].toFixed(2);\r\n\r\n\r\n        // Draw the bounding box.\r\n        ctx.strokeStyle = \"#00FFFF00\";\r\n        ctx.lineWidth = 4;\r\n        ctx.strokeRect(x1, y1, width, height);\r\n\r\n        // Draw the label background.\r\n        ctx.fillStyle = \"#f0f8ff10\";\r\n        const textWidth = ctx.measureText(klass + \":\" + score).width;\r\n        const textHeight = parseInt(font, 10); // base 10\r\n        ctx.fillRect(x1, y1, textWidth + 4, textHeight + 4);\r\n\r\n\r\n\r\n      };\r\n\r\n      \r\n\r\n      let a = 0;\r\n      let b = 0;\r\n\r\n      for (i = 0; i < valid_detections_data; ++i){\r\n        let [x1, y1, , ] = boxes_data.slice(i * 4, (i + 1) * 4);\r\n        x1 *= c.width;\r\n        y1 *= c.height;\r\n        const klass = names[classes_data[i]];\r\n        const score = scores_data[i].toFixed(2);\r\n\r\n        // Draw the text last to ensure it's on top.\r\n        ctx.fillStyle = \"#000000\";\r\n        ctx.fillText(klass + \":\" + score, x1, y1);\r\n        \r\n        //console.log(classes_data[i]);\r\n        \r\n\r\n\r\n        if (classes_data[i] === 0){\r\n          //console.log(\"16:\", a = 1 + a);\r\n          (a = 1 + a);            \r\n        } //else {console.log(\"その他\")}\r\n\r\n        else {a = a + 0}\r\n\r\n        if (classes_data[i] === 1){\r\n          //console.log(\"15:\", b = 1 + b);\r\n          (b = 1 + b);            \r\n        } //else {console.log(\"その他\")}\r\n\r\n        //else {console.log(\"その他\")}\r\n        else {(b = b + 0)}\r\n      }\r\n\r\n      //let wariai = Math.round((b/(a+b)))\r\n      //var wariai = b/(a+b);\r\n\r\n      //y=0.5367ｘ+2.6133 (実測の帯緑色割合とiou0.6conf0.7のときの検出値から計算した帯緑色籾歩合の相関式より)    \r\n      \r\n  \r\n      \r\n      var buai = ((((b/(a+b))*100)-2.6133)/0.5367);\r\n      \r\n      if(buai>=100){var kasan=100;}\r\n      else if (buai<=-4.8692){kasan=0;}           \r\n      else if (buai<=-3.00596){kasan=1;} \r\n      else if (buai<=-1.14272){kasan=2;} \r\n      else if (buai<=0.720514){kasan=3;} \r\n      else if (buai>0.720514 && buai<=175.8649){kasan=buai+2.6133;}   \r\n      else {kasan=100;} \r\n\r\n      //if(buai>69.66033){buai='範囲外'}\r\n      //else if (buai<-3.00596){buai='１％未満';} \r\n      //else if (buai<4.446991){buai='５％未満';} \r\n      \r\n      //else buai = Math.round(buai+2.6133) ;\r\n\r\n      \r\n \r\n      \r\n      //var buai = ((((b/(a+b))*100)-2.6133)/0.5367);\r\n      \r\n      if(buai>69.66033){buai='40％超'}\r\n      else if (buai<-3.00596){buai='１％未満';} \r\n      else if (buai<4.446991){buai='５％未満';} \r\n          \r\n      else buai = Math.round(buai+2.6133) ;\r\n\r\n      \r\n      \r\n      \r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n      \r\n\r\n      //var momi_kei = a + b ; \r\n\r\n      //const others = String(a);\r\n      //const green = String(b);\r\n      //const zenbu = String(momi_kei);\r\n      const ritu = String(buai);\r\n      //console.log('緑色の籾の検出数'+green+'<br>推定される帯緑色籾歩合は'+ritu+'です。');\r\n\r\n\r\n      var mytable = document.getElementById(\"tbl\");\r\n\r\n      \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      \r\n      //console.log(kasan);\r\n\r\n      for (var ii=0; ii < mytable.rows.length; ii++) {\r\n        for (var j=0; j < mytable.rows[ii].cells.length; j++) {\r\n          //console.log(  \"(\" + i + \",\" + j + \") : \" + mytable.rows[i].cells[j].innerHTML  );\r\n        }\r\n      }\r\n\r\n      //console.log(ii);\r\n\r\n      if (ii===1){\r\n\r\n        \r\n\r\n        //var sankome = Math.round(kasan);\r\n      \r\n        var mytr2 = mytable.insertRow(-1); //引数-1 : 表の一番最後に1行追加\r\n\r\n        var myth2 = document.createElement(\"th\");\r\n        var myth2Txt = document.createTextNode(ii);\r\n        myth2.appendChild(myth2Txt);\r\n        mytr2.appendChild(myth2);\r\n  \r\n        var mycell3 = mytr2.insertCell(1);\r\n        var mycell3Txt = document.createTextNode(b);\r\n        mycell3.appendChild(mycell3Txt);\r\n  \r\n        var mycell4 = mytr2.insertCell(2);\r\n        var mycell4Txt = document.createTextNode(ritu);\r\n        mycell4.appendChild(mycell4Txt);\r\n\r\n          // 前の行の値を取得\r\n        //var previousRow = mytable.rows[mytable.rows.length - 2];\r\n        //var previousValue = parseInt(previousRow.cells[2].innerText);\r\n\r\n        //var moto = previousValue*(ii);\r\n        //var konoretumade = ((moto+kasan)/ii)\r\n\r\n\r\n\r\n        var konoretuhajime = Math.round(kasan);\r\n\r\n\r\n\r\n        \r\n  \r\n        var mycell5 = mytr2.insertCell(3);\r\n        var mycell5Txt = document.createTextNode(konoretuhajime);\r\n        mycell5.appendChild(mycell5Txt);\r\n        \r\n        //console.log(ii)\r\n        // console.log(kasan);\r\n        \r\n  \r\n      \r\n      }\r\n\r\n      else if(ii===2){ \r\n        //var tasitamono = sankome + kasan;\r\n\r\n        //var wawarukazu = tasitamono/ii;\r\n        //var yonkome = Math.round(wawarukazu);\r\n\r\n        mytr2 = mytable.insertRow(-1); //引数-1 : 表の一番最後に1行追加\r\n\r\n        myth2 = document.createElement(\"th\");\r\n        myth2Txt = document.createTextNode(ii);\r\n        myth2.appendChild(myth2Txt);\r\n        mytr2.appendChild(myth2);\r\n  \r\n        mycell3 = mytr2.insertCell(1);\r\n        mycell3Txt = document.createTextNode(b);\r\n        mycell3.appendChild(mycell3Txt);\r\n  \r\n        mycell4 = mytr2.insertCell(2);\r\n        mycell4Txt = document.createTextNode(ritu);\r\n        mycell4.appendChild(mycell4Txt);\r\n\r\n          // 前の行の値を取得\r\n        var previousRow = mytable.rows[mytable.rows.length - 2];\r\n        //前の行の３つ目のセルの値を取得\r\n        var previousValue = parseInt(previousRow.cells[3].innerText);\r\n      \r\n\r\n        //console.log(ii)\r\n        //console.log(kasan);\r\n        //console.log(previousValue);\r\n\r\n\r\n        var moto = previousValue + kasan;\r\n        //console.log(moto);\r\n        var konoretumade = (moto/ii);\r\n        //console.log(konoretumade);\r\n        var konoretumadewa = Math.round(konoretumade);\r\n\r\n\r\n        //console.log(konoretumadewa);\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        mycell5 = mytr2.insertCell(3);\r\n        mycell5Txt = document.createTextNode(konoretumadewa);\r\n        mycell5.appendChild(mycell5Txt);\r\n\r\n        \r\n      }\r\n\r\n      else if(ii>2) { \r\n        //var tasitamono = sankome + kasan;\r\n\r\n        //var wawarukazu = tasitamono/ii;\r\n        //var yonkome = Math.round(wawarukazu);\r\n\r\n        mytr2 = mytable.insertRow(-1); //引数-1 : 表の一番最後に1行追加\r\n\r\n        myth2 = document.createElement(\"th\");\r\n        myth2Txt = document.createTextNode(ii);\r\n        myth2.appendChild(myth2Txt);\r\n        mytr2.appendChild(myth2);\r\n  \r\n        mycell3 = mytr2.insertCell(1);\r\n        mycell3Txt = document.createTextNode(b);\r\n        mycell3.appendChild(mycell3Txt);\r\n  \r\n        mycell4 = mytr2.insertCell(2);\r\n        mycell4Txt = document.createTextNode(ritu);\r\n        mycell4.appendChild(mycell4Txt);\r\n\r\n          // 前の行の値を取得\r\n        previousRow = mytable.rows[mytable.rows.length - 2];\r\n        //前の行の４つめのセルの値を取得\r\n        previousValue = parseInt(previousRow.cells[3].innerText);\r\n        \r\n\r\n        //console.log(ii)\r\n        //console.log(kasan);\r\n        //console.log(previousValue);\r\n\r\n\r\n        moto = previousValue*(ii-1);\r\n        //console.log(moto);\r\n        konoretumade = ((moto+kasan)/ii);\r\n        //console.log(konoretumade);\r\n        konoretumadewa = Math.round(konoretumade);\r\n        //console.log(konoretumadewa);\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        mycell5 = mytr2.insertCell(3);\r\n        mycell5Txt = document.createTextNode(konoretumadewa);\r\n        mycell5.appendChild(mycell5Txt);\r\n\r\n        \r\n      };    \r\n\r\n\r\n\r\n\r\n\r\n\r\n      //表の作成\r\n\r\n\r\n      //var mytr2 = mytable.insertRow(-1); //引数-1 : 表の一番最後に1行追加\r\n\r\n      //var myth2 = document.createElement(\"th\");\r\n      //var myth2Txt = document.createTextNode(ii);\r\n      //myth2.appendChild(myth2Txt);\r\n      //mytr2.appendChild(myth2);\r\n\r\n      //var mycell3 = mytr2.insertCell(1);\r\n      //var mycell3Txt = document.createTextNode(b);\r\n      //mycell3.appendChild(mycell3Txt);\r\n\r\n      //var mycell4 = mytr2.insertCell(2);\r\n      //var mycell4Txt = document.createTextNode(ritu);\r\n      //mycell4.appendChild(mycell4Txt);\r\n\r\n      //var mycell5 = mytr2.insertCell(3);\r\n      //var mycell5Txt = document.createTextNode(sankome);\r\n      //mycell5.appendChild(mycell5Txt);\r\n      \r\n\r\n          \r\n\r\n\r\n\r\n\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Dropzone-page\">\r\n        {this.state.model ? (\r\n          <MagicDropzone\r\n            className=\"Dropzone\"\r\n            accept=\"image/jpeg, image/png, .jpg, .jpeg, .png\"\r\n            multiple={false}\r\n            onDrop={this.onDrop}\r\n          >\r\n            {this.state.preview ? (\r\n              <img\r\n                alt=\"upload preview\"\r\n                onLoad={this.onImageChange}\r\n                className=\"Dropzone-img\"\r\n                src={this.state.preview}\r\n              />\r\n            ) : (\r\n              \"Choose or drop a file.\"\r\n            )}\r\n            <canvas id=\"canvas\" width=\"640\" height=\"640\" />\r\n          </MagicDropzone>\r\n        ) : (\r\n          <div className=\"Dropzone\">Loading model...</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}